import{_ as a,t as n,d as i,m,l as p,n as h,r as v,u as k,p as P,q as g,a as b}from"./analytics-core-CVWa9SDX.js";import{e as C,f as V,g as j,j as R,h as z,i as F,s as x,b as B,k as Q}from"./analytics-core-CVWa9SDX.js";let u=!1,_=!1,f=!1;function r(){return typeof performance<"u"&&performance.now?performance.now():Date.now()}async function L(){if(u)return;u=!0;const e=r(),t=await a(()=>Promise.resolve().then(()=>w),void 0);t.initVisibilityListeners(),t.initSectionObserver(["mission","vision","voices"]),t.startHeartbeat();try{n({category:"perf",action:"perf_metric",value:Math.round(r()-e),metadata:{chunk:"engagement",metric:"analytics_chunk_loaded"}})}catch{}}function O(){var e;try{const t=navigator;if((e=t.connection)!=null&&e.saveData||typeof t.deviceMemory=="number"&&t.deviceMemory>0&&t.deviceMemory<2)return!0}catch{}return!1}async function s(){if(_)return;if(_=!0,O()){try{n({category:"perf",action:"perf_metric",value:0,metadata:{chunk:"perf",metric:"analytics_chunk_skipped"}})}catch{}return}const e=r(),t=await a(()=>Promise.resolve().then(()=>c),void 0);t.initFirstInputDelayCapture(),t.initLayoutShiftObserver();try{n({category:"perf",action:"perf_metric",value:Math.round(r()-e),metadata:{chunk:"perf",metric:"analytics_chunk_loaded"}})}catch{}}async function E(){if(f)return;f=!0;const e=r();(await a(()=>import("./analytics-core-CVWa9SDX.js").then(o=>o.v),[])).installErrorHooks();try{n({category:"perf",action:"perf_metric",value:Math.round(r()-e),metadata:{chunk:"errors",metric:"analytics_chunk_loaded"}})}catch{}}const A={loadEngagement:L,loadPerf:s,loadErrors:E};async function D(){await s();const{trackHeroPaint:e}=await a(async()=>{const{trackHeroPaint:t}=await Promise.resolve().then(()=>c);return{trackHeroPaint:t}},void 0);e()}async function H(e,t,o,l){await s();const{trackPerfMetric:d}=await a(async()=>{const{trackPerfMetric:y}=await Promise.resolve().then(()=>c);return{trackPerfMetric:y}},void 0);d(e,t,o,l)}const S={_resetBreaker:()=>{try{i._resetBreaker()}catch{}},_forceHalfOpen:()=>{try{i._forceHalfOpen()}catch{}},_forceFlush:()=>{try{i._forceFlush()}catch{}}},w=Object.freeze(Object.defineProperty({__proto__:null,initSectionObserver:m,initVisibilityListeners:p,startHeartbeat:h},Symbol.toStringTag,{value:"Module"})),c=Object.freeze(Object.defineProperty({__proto__:null,initFirstInputDelayCapture:v,initLayoutShiftObserver:k,trackHeroPaint:P,trackPerfMetric:g,trackQuoteTransition:b},Symbol.toStringTag,{value:"Module"}));export{S as __test,A as analyticsLoaders,C as configureAnalyticsTransport,V as flushBackendQueue,j as flushPreConsentQueue,R as getAnalyticsDebugInfo,z as hasAnalyticsConsent,F as initAnalyticsSession,x as setAnalyticsConsent,B as setUserContext,n as trackEvent,Q as trackHashNavigation,D as trackHeroPaintLazy,H as trackPerfMetricLazy};
